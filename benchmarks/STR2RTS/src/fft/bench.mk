BENCH:=fft2
BENCHSRCFILE:=$(SRC_DIR)/fft/FFT2.c
BENCHHFILE:=$(SRC_DIR)/fft/FFT2.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=256

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=fft4
BENCHSRCFILE:=$(SRC_DIR)/fft/FFT4.c
BENCHHFILE:=$(SRC_DIR)/fft/FFT4.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=256

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

#BENCH:=fft4_radix2
#BENCHSRCFILE:=$(SRC_DIR)/fft/fft4_radix2.c
#BENCHHFILE:=$(SRC_DIR)/fft/FFT4.h
#BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=256

#$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=sdf_fft2_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/SDF-FFT2_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/SDF-FFT2_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=512

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=hsdf_fft2_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/HSDF-FFT2_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/HSDF-FFT2_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=512

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=sdf_fft3_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/SDF-FFT3_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/SDF-FFT3_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=128

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=hsdf_fft3_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/HSDF-FFT3_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/HSDF-FFT3_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=128

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=sdf_fft4_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/SDF-FFT4_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/SDF-FFT4_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=4

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=hsdf_fft4_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/HSDF-FFT4_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/HSDF-FFT4_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=4

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=sdf_fft5_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/SDF-FFT5_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/SDF-FFT5_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=32

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=hsdf_fft5_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/HSDF-FFT5_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/HSDF-FFT5_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=32

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=sdf_fft6_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/SDF-FFT6_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/SDF-FFT6_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=128

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

BENCH:=hsdf_fft6_nocache
BENCHSRCFILE:=$(SRC_DIR)/fft/HSDF-FFT6_nocache.c
BENCHHFILE:=$(SRC_DIR)/fft/HSDF-FFT6_nocache.h
BENCHEXTRAFLAGS:=-DBUF_SIZEMAX=128

$(eval $(call BENCH_TEMPLATE, $(BENCH), $(BENCHSRCFILE), $(BENCHHFILE), $(BENCHEXTRAFLAGS)))

#$(foreach b, $(shell ls $(SRC_DIR)/fft/PEGs/PEG*.h), \
   $(eval $(call BENCH_TEMPLATE, \
		 $(shell echo $$(basename -s'.h' $(b)) | tr A-Z a-z | tr - _), \
		 $(shell dirname $(b))/$(shell basename -s'.h' $(b)).c, \
		 $(b), \
		 $(shell grep "\-DBUF_SIZEMAX=" $(b) | sed -e 's/.*\(-DBUF_SIZEMAX=[0-9]*\).*/\1/')))\
)